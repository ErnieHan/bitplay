{"version":3,"file":"static/webpack/static/development/pages/week1.js.afccf4ba2754cefdcb75.hot-update.js","sources":["webpack:///./pages/week1.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport Header from \"../src/components/Header\";\nimport { ROOT } from \"../src/function/constants\";\n\nexport class Week1 extends Component {\n  state = {\n    id: null,\n    url: null,\n    resultList: [],\n    isLoading: false\n  };\n\n  componentDidMount() {\n    this.fetchData(\"10\");\n  }\n\n  fetchData = async limit => {\n    this.startLoading(true);\n    try {\n      const response = await fetch(\n        `https://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=24c9f8fe-88db-4a6e-895c-498fbc94df94&limit=${limit}`,\n        {\n          method: \"GET\",\n          headers: {\n            \"content-type\": \"application/json\"\n          }\n        }\n      );\n      if (response.ok) {\n        const data = await response.json();\n        console.log(data.result.results);\n        this.setState({\n          resultList: data.result.results\n        });\n      } else {\n        throw new Error(\"ernie xxx\");\n      }\n    } catch (e) {\n      console.log(e.message);\n    } finally {\n      this.startLoading(false);\n    }\n  };\n\n  startLoading = bool => {\n    this.setState({\n      isLoading: bool\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <Header title={\"蕃茄鐘 ｜ Week 1\"} />\n        <div style={{ textAlign: \"center\" }}>\n          <button className=\"fetch-button\" onClick={this.fetchData.bind(this, \"20\")}>\n            button fetch\n          </button>\n          {this.state.isLoading && (\n            <div className=\"loading-content\">\n              <img src={`${ROOT}/images`} alt=\"loading\" />\n            </div>\n          )}\n          {this.state.resultList.map((data, index) => (\n            <div key={index} className=\"fetch-id\">\n              {data.o_tlc_agency_name} / {data.o_tlc_agency_phone}\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Week1;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAEA;AACA;AACA;AACA;AAJA;AACA;AAFA;AAYA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAMA;AACA;AACA;AADA;AAFA;AACA;AANA;AAGA;AACA;AAJA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAaA;AACA;AACA;AAAA;AACA;AADA;AACA;AAhBA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAsBA;AACA;AAvBA;AAAA;AACA;AAuBA;AACA;AAzBA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAbA;AAyCA;AACA;AADA;AAGA;AACA;AA7CA;AAAA;AACA;AADA;AAAA;AAAA;AASA;AACA;AAVA;AAAA;AAAA;AA8CA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAQA;AAnEA;AACA;AADA;AAAA;AAsEA;;;;A","sourceRoot":""}